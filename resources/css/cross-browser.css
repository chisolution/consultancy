/* Cross-Browser Compatibility CSS */
/* Ensures consistent styling across Chrome, Firefox, Safari, Edge, and older browsers */

/* CSS Reset and Normalization */
* {
    box-sizing: border-box;
}

/* Flexbox Fallbacks for IE11 */
.flex {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
}

.flex-col {
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -ms-flex-direction: column;
    flex-direction: column;
}

.items-center {
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
}

.justify-center {
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
}

.justify-between {
    -webkit-box-pack: justify;
    -ms-flex-pack: justify;
    justify-content: space-between;
}

/* Grid Fallbacks for IE11 */
.grid {
    display: -ms-grid;
    display: grid;
}

/* For IE11 - Convert grid to flexbox where needed */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .grid {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
    }
    
    .grid > * {
        -ms-flex: 1 1 auto;
        flex: 1 1 auto;
    }
}

/* Transform Prefixes */
.transform {
    -webkit-transform: translateZ(0);
    -moz-transform: translateZ(0);
    -ms-transform: translateZ(0);
    -o-transform: translateZ(0);
    transform: translateZ(0);
}

/* Transition Prefixes */
.transition-all {
    -webkit-transition: all 0.3s ease;
    -moz-transition: all 0.3s ease;
    -ms-transition: all 0.3s ease;
    -o-transition: all 0.3s ease;
    transition: all 0.3s ease;
}

.transition-colors {
    -webkit-transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
    -moz-transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
    -ms-transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
    -o-transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
    transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* Border Radius Prefixes */
.rounded-lg {
    -webkit-border-radius: 0.5rem;
    -moz-border-radius: 0.5rem;
    border-radius: 0.5rem;
}

.rounded-xl {
    -webkit-border-radius: 0.75rem;
    -moz-border-radius: 0.75rem;
    border-radius: 0.75rem;
}

.rounded-2xl {
    -webkit-border-radius: 1rem;
    -moz-border-radius: 1rem;
    border-radius: 1rem;
}

.rounded-full {
    -webkit-border-radius: 50%;
    -moz-border-radius: 50%;
    border-radius: 50%;
}

/* Box Shadow Prefixes */
.shadow-lg {
    -webkit-box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    -moz-box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.shadow-xl {
    -webkit-box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    -moz-box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Gradient Backgrounds with Fallbacks */
.bg-gradient-to-br {
    background: linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -webkit-linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -moz-linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -ms-linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -o-linear-gradient(to bottom right, var(--tw-gradient-from), var(--tw-gradient-to));
}

.bg-gradient-to-r {
    background: linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -webkit-linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -moz-linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -ms-linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
    background: -o-linear-gradient(to right, var(--tw-gradient-from), var(--tw-gradient-to));
}

/* Backdrop Filter Fallbacks */
.backdrop-blur-sm {
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
    /* Fallback for browsers that don't support backdrop-filter */
    background-color: rgba(255, 255, 255, 0.1);
}

/* Focus States for Accessibility */
button:focus,
input:focus,
select:focus,
textarea:focus,
a:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Remove outline for mouse users but keep for keyboard users */
button:focus:not(:focus-visible),
input:focus:not(:focus-visible),
select:focus:not(:focus-visible),
textarea:focus:not(:focus-visible),
a:focus:not(:focus-visible) {
    outline: none;
}

/* Smooth Scrolling */
html {
    scroll-behavior: smooth;
}

/* Safari-specific fixes */
@supports (-webkit-appearance: none) {
    /* Fix for Safari input styling */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
        -webkit-appearance: none;
        appearance: none;
    }
    
    /* Fix for Safari button styling */
    button {
        -webkit-appearance: none;
        appearance: none;
    }
}

/* Firefox-specific fixes */
@-moz-document url-prefix() {
    /* Fix for Firefox select dropdown */
    select {
        -moz-appearance: none;
        appearance: none;
        background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='%23666' d='M2 0L0 2h4zm0 5L0 3h4z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 0.7em top 50%;
        background-size: 0.65em auto;
    }
}

/* Edge/IE specific fixes */
@supports (-ms-ime-align: auto) {
    /* Fix for Edge/IE grid issues */
    .grid {
        display: -ms-grid;
    }
    
    /* Fix for Edge/IE flexbox issues */
    .flex {
        display: -ms-flexbox;
    }
}

/* Print Styles */
@media print {
    * {
        -webkit-print-color-adjust: exact !important;
        color-adjust: exact !important;
    }
    
    .no-print {
        display: none !important;
    }
    
    body {
        font-size: 12pt;
        line-height: 1.4;
    }
    
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
    }
    
    img {
        max-width: 100% !important;
        height: auto !important;
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    button,
    input,
    select,
    textarea {
        border: 2px solid;
    }
    
    .shadow-lg,
    .shadow-xl {
        box-shadow: none;
        border: 1px solid;
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    /* Add dark mode styles if needed */
    .auto-dark {
        color-scheme: dark;
    }
}

/* Mobile Safari specific fixes */
@supports (-webkit-touch-callout: none) {
    /* Fix for iOS Safari viewport units */
    .min-h-screen {
        min-height: -webkit-fill-available;
    }
    
    /* Fix for iOS Safari input zoom */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
        font-size: 16px;
    }
}

/* Ensure consistent font rendering */
body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* Fix for older browsers that don't support CSS custom properties */
:root {
    --primary-50: #eff6ff;
    --primary-600: #2563eb;
    --primary-700: #1d4ed8;
    --secondary-600: #059669;
    --secondary-700: #047857;
    --accent-600: #dc2626;
    --accent-700: #b91c1c;
}

/* Fallback colors for browsers that don't support CSS custom properties */
.bg-primary-600 {
    background-color: #2563eb;
    background-color: var(--primary-600, #2563eb);
}

.bg-secondary-600 {
    background-color: #059669;
    background-color: var(--secondary-600, #059669);
}

.bg-accent-600 {
    background-color: #dc2626;
    background-color: var(--accent-600, #dc2626);
}

.text-primary-600 {
    color: #2563eb;
    color: var(--primary-600, #2563eb);
}

.text-secondary-600 {
    color: #059669;
    color: var(--secondary-600, #059669);
}

.text-accent-600 {
    color: #dc2626;
    color: var(--accent-600, #dc2626);
}
